<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <link href="http://gmpg.org/xfn/11" rel="profile">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
  
    <!-- Enable responsiveness on mobile devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  
    <title>F# workshop in a browser</title>
  
    <!-- CSS -->
    <link rel="stylesheet" href="/css/poole.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/lanyon.css">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400">
    
    <!-- FSharp.Formatting Styles -->
    <link rel="stylesheet" type="text/css" media="screen" href="/fsharp.formatting/tooltips.css" />
  	<script type="text/javascript" src="/fsharp.formatting/tooltips.js"></script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
  
    <style type="text/css">
      table.pre td {
        border: none;
      }
      
      table.pre code {
        font: 9pt 'Droid Sans Mono',consolas,monospace;
      }
    </style>
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-71283003-1', 'auto');
      ga('send', 'pageview');
    
    </script>
  
  </head>
  <body>
    <input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

    <div class="sidebar" id="sidebar">
      <div class="sidebar-item">
        <p>My website - place where I share thoughts on programming</p>
      </div>
    
      <nav class="sidebar-nav">
        <a class="sidebar-nav-item" href="/blog/index.html">Blog</a>
        <a class="sidebar-nav-item" href="/about/index.html">About me</a>
      </nav>
    
      <div class="sidebar-item">
        <p>Created with <a target="_blank" href="https://github.com/fsprojects/FsBlog">FsBlog</a> and <a target="_blank" href="http://lanyon.getpoole.com/">Lanyon</a></p>
        <p>&copy; Tomasz Heimowski, 2015.</p>
      </div>

    </div>

    <div class="wrap">
      <div class="masthead">
        <div class="container">

          <h3 class="masthead-title">
            <a href="/index.html" title="Home">Tomasz Heimowski</a>
          </h3>
        </div>
      </div>

      <div class="container content">
        

<div class="post">
  <h1 class="post-title">F# workshop in a browser</h1>
  
<p>How to make a F# workshop for your colleagues more attractive? Let them edit your slides and interact with the browser!
This entry presents an idea of using <a href="http://fsprojects.github.io/FsReveal/">FsReveal</a> to combine your presentation and workshop exercises into a single file.</p>
<!--more-->
<h2>The idea</h2>
<p>I've once attended an awesome F# Coding Dojo conducted by Mathias Brandewinder (<a href="https://twitter.com/brandewinder">@brandewinder</a>) in Łódź, Poland.
It was titled "Introduction to Machine Learning with F#" and it came from the series of <a href="http://c4fsharp.net/#fsharp-coding-dojos">F# Coding Dojos</a> powered by Community for F# (<a href="https://twitter.com/c4fsharp">@c4fsharp</a>).</p>
<p>Apart from the subject of this dojo was really interesting and the problem to solve quite exciting, one thing that I enjoyed most was the idea of <strong>Guided Script</strong>.
It based on placing learning materials, short language reference and the actual code all within single script file, in a spirit of <a href="https://en.wikipedia.org/wiki/Literate_programming">Literate Programming</a>.
The script used in "Introduction to Machine Learning with F#" looked like <a href="https://github.com/c4fsharp/Dojo-Digits-Recognizer/blob/master/Dojo/GuidedScript.fsx">this</a>.
For those of you who haven't seen the scripts in action, I highly recommend to go check out rest of the <a href="https://github.com/c4fsharp">Dojos</a>.</p>
<p>Recently I've volunteered to lead a series of <strong>F# workshops</strong> at our company in Gdańsk.
The main purpose of such series would be to introduce colleagues with C# background to world of F# and Functional Programming.
In order to put emphasis on learning FP concepts and their practical use, I've decided to prepare the series from scratch by myself.</p>
<p>Because I wanted to make those meetings as attractive as possible, I planned to adapt the Guided Script format.
In addition to that, I needed to prepare some slides to demonstrate and explain FP concepts.
Choice of tool for the presentation was easy - many members of F# Community make use of <a href="http://fsprojects.github.io/FsReveal/">FsReveal</a>.</p>
<blockquote>
<p>"FsReveal allows you to write beautiful slides in Markdown and brings C# and F# to the reveal.js web presentation framework".</p>
</blockquote>
<p>Once I've realized that FsReveal allows to write slides in a standard F# script (.fsx) file, I came up with an idea to combine it with Guided Script.</p>
<h2>Realization</h2>
<p>FsReveal allows to edit slides <strong>interactively</strong>, which means that you can preview your changes live with help of a little <a href="https://suave.io/">Suave.IO</a> server embedded into the build script. All you have to do is run <code>KeepRunning</code> target:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="bash">.\build.cmd KeepRunning 
</code></pre></td></tr></table>
<p>This opens up generated slides in your browser, and fires a file change watcher in slides directory - whenever a change is detected, slides get <strong>regenerated</strong> and a WebSocket message is sent to the page in the browser with a command to reload itself.</p>
<p>This feature made it possible to treat the <strong>browser as an interactive REPL</strong>.
Let's have a look at an example, <a href="http://theimowski.com/fsharp-workshops-basics/#/1/4">this slide</a> is backed up by following script code (valid F# syntax with Markdown format in comments):</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">(**</span>
<span class="c">### Exercise X.X</span>
<span class="c">Exercise:</span>

<span class="c">#### --------------- Your code goes below --------------- *)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">exercise</span> <span class="o">=</span> <span class="n">28</span>
<span class="c">(** #### Value of ``exercise`` *)</span>
<span class="c">(*** include-value: ``exercise`` ***)</span>
</code></pre></td>
</tr>
</table>
<p><img src="example.png" alt="example" /></p>
<p>The workshop participant first runs the <code>KeepRunning</code> target of the build script.
Now whenever she modifies the script (e.g. binds a different value to <code>exercise</code> symbol) and saves the file, the page gets automatically refreshed with a new result.</p>
<p>One downside of this approach is that when the scripts gets a bit longer, its evaluation may take some time.
Because of that if the file watcher discovers too frequent changes (programmer's habit - save a file every second), it might not keep up with regenerating new slides.
Fortunately the participant can still run certain snippets of the code in the FSI (F# Interactive) for debugging purposes, and only when she's ready with the final implementation, trigger new slides to render.</p>
<h2>Summary</h2>
<p>The whole workshop extends this workflow, providing ten different exercises to complete for participants.
By implementing the exercises step by step, the participant aims to the final goal which is calculating an arithmetic expression represented in <a href="https://en.wikipedia.org/wiki/Reverse_Polish_notation">Reverse Polish Notation</a>.</p>
<p>All slides for the workshop are available <a href="http://theimowski.com/fsharp-workshops-basics/">here</a>.
Last week I conducted the workshop for the first time, and it went pretty well.
Despite the fact the standard FSI turned out to be crucial anyway, participants appreciated the cool extra thing that they can watch their changes live in the browser.
Till next time!</p>

<div class="tip" id="fs1">val exercise : int<br /><br />Full name: fworkshopinabrowser.exercise</div>

  
  <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
            this.page.url = "http://theimowski.com/blog/2016/07-20-f-workshop-in-a-browser/index.html";
            this.page.identifier = "2016/07-20-f-workshop-in-a-browser";
        };
        (function() {  // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            
            s.src = '//theimowski.disqus.com/embed.js';
            
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
